/*! For license information please see 83ac7242.3c4dd0ed.js.LICENSE.txt */
"use strict";(self.webpackChunkai_book_hackathon=self.webpackChunkai_book_hackathon||[]).push([[7037],{467:(r,e,n)=>{function a(r,e,n,a,t,o,s){try{var i=r[o](s),c=i.value}catch(r){return void n(r)}i.done?e(c):Promise.resolve(c).then(a,t)}function t(r){return function(){var e=this,n=arguments;return new Promise(function(t,o){var s=r.apply(e,n);function i(r){a(s,t,o,i,c,"next",r)}function c(r){a(s,t,o,i,c,"throw",r)}i(void 0)})}}n.d(e,{A:()=>t})},2444:(r,e,n)=>{function a(r,e,n,t){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}a=function(r,e,n,t){function s(e,n){a(r,e,function(r){return this._invoke(e,n,r)})}e?o?o(r,e,{value:n,enumerable:!t,configurable:!t,writable:!t}):r[e]=n:(s("next",0),s("throw",1),s("return",2))},a(r,e,n,t)}function t(){var r,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function i(n,t,o,s){var i=t&&t.prototype instanceof l?t:l,u=Object.create(i.prototype);return a(u,"_invoke",function(n,a,t){var o,s,i,l=0,u=t||[],m=!1,d={p:0,n:0,v:r,a:f,f:f.bind(r,4),d:function(e,n){return o=e,s=0,i=r,d.n=n,c}};function f(n,a){for(s=n,i=a,e=0;!m&&l&&!t&&e<u.length;e++){var t,o=u[e],f=d.p,p=o[2];n>3?(t=p===a)&&(i=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=r):o[0]<=f&&((t=n<2&&f<o[1])?(s=0,d.v=a,d.n=o[1]):f<p&&(t=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,d.n=p,s=0))}if(t||n>1)return c;throw m=!0,a}return function(t,u,p){if(l>1)throw TypeError("Generator is already running");for(m&&1===u&&f(u,p),s=u,i=p;(e=s<2?r:i)||!m;){o||(s?s<3?(s>1&&(d.n=-1),f(s,i)):d.n=i:d.v=i);try{if(l=2,o){if(s||(t="next"),e=o[t]){if(!(e=e.call(o,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(i=TypeError("The iterator does not provide a '"+t+"' method"),s=1);o=r}else if((e=(m=d.n<0)?i:n.call(a,d))!==c)break}catch(e){o=r,s=1,i=e}finally{l=1}}return{value:e,done:m}}}(n,o,s),!0),u}var c={};function l(){}function u(){}function m(){}e=Object.getPrototypeOf;var d=[][o]?e(e([][o]())):(a(e={},o,function(){return this}),e),f=m.prototype=l.prototype=Object.create(d);function p(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,m):(r.__proto__=m,a(r,s,"GeneratorFunction")),r.prototype=Object.create(f),r}return u.prototype=m,a(f,"constructor",m),a(m,"constructor",u),u.displayName="GeneratorFunction",a(m,s,"GeneratorFunction"),a(f),a(f,s,"Generator"),a(f,o,function(){return this}),a(f,"toString",function(){return"[object Generator]"}),(t=function(){return{w:i,m:p}})()}n.d(e,{A:()=>t})},7940:(r,e,n)=>{n.d(e,{y:()=>u});var a,t,o,s,i=n(2444),c=n(467),l=n(1787),u={register:(s=(0,c.A)((0,i.A)().m(function r(e,n,a){var t,o;return(0,i.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,l.Hh.email({email:e,password:n,name:a});case 1:return t=r.v,r.a(2,t);case 2:throw r.p=2,o=r.v,console.error("Registration error:",o),o;case 3:return r.a(2)}},r,null,[[0,2]])})),function(r,e,n){return s.apply(this,arguments)}),login:(o=(0,c.A)((0,i.A)().m(function r(e,n){var a,t;return(0,i.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,l.Jv.email({email:e,password:n});case 1:return a=r.v,r.a(2,a);case 2:throw r.p=2,t=r.v,console.error("Login error:",t),t;case 3:return r.a(2)}},r,null,[[0,2]])})),function(r,e){return o.apply(this,arguments)}),logout:(t=(0,c.A)((0,i.A)().m(function r(){var e,n;return(0,i.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,l.CI)();case 1:return e=r.v,r.a(2,e);case 2:throw r.p=2,n=r.v,console.error("Logout error:",n),n;case 3:return r.a(2)}},r,null,[[0,2]])})),function(){return t.apply(this,arguments)}),getCurrentUser:(a=(0,c.A)((0,i.A)().m(function r(){return(0,i.A)().w(function(r){for(;;)if(0===r.n)return r.a(2)},r)})),function(){return a.apply(this,arguments)})}},9800:(r,e,n)=>{n.r(e),n.d(e,{default:()=>d});var a=n(6540),t=n(9211),o=n(2444),s=n(467),i=n(7940),c=n(4848);const l=function(r){var e=r.onSuccess,n=r.onError,t=(0,a.useState)({name:"",email:"",password:"",confirmPassword:""}),l=t[0],u=t[1],m=(0,a.useState)(!1),d=m[0],f=m[1],p=(0,a.useState)({}),h=p[0],v=p[1],g=function(r){var e,n;(u(Object.assign({},l,((e={})[r.target.name]=r.target.value,e))),h[r.target.name])&&v(Object.assign({},h,((n={})[r.target.name]="",n)))},w=function(){var r={};return l.name.trim()||(r.name="Name is required"),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(r.email="Email is invalid"):r.email="Email is required",l.password?l.password.length<8&&(r.password="Password must be at least 8 characters"):r.password="Password is required",l.password!==l.confirmPassword&&(r.confirmPassword="Passwords do not match"),v(r),0===Object.keys(r).length},y=function(){var r=(0,s.A)((0,o.A)().m(function r(a){var t,s,c;return(0,o.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:if(a.preventDefault(),w()){r.n=1;break}return r.a(2);case 1:return f(!0),v({}),r.p=2,r.n=3,i.y.register(l.email,l.password,l.name);case 3:null!=(t=r.v)&&t.error?v({general:t.error.message||"An error occurred during signup"}):e&&e(),r.n=5;break;case 4:r.p=4,c=r.v,console.error("Signup error:",c),s=c.message||"An error occurred during signup",v({general:s}),n&&n(s);case 5:return r.p=5,f(!1),r.f(5);case 6:return r.a(2)}},r,null,[[2,4,5,6]])}));return function(e){return r.apply(this,arguments)}}();return(0,c.jsxs)("div",{className:"signup-form",children:[(0,c.jsx)("h2",{children:"Sign Up"}),h.general&&(0,c.jsx)("div",{className:"alert alert-error",children:h.general}),(0,c.jsxs)("form",{onSubmit:y,children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"name",children:"Name"}),(0,c.jsx)("input",{type:"text",id:"name",name:"name",value:l.name,onChange:g,className:"form-control "+(h.name?"is-invalid":""),placeholder:"Enter your name"}),h.name&&(0,c.jsx)("div",{className:"error-message",children:h.name})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{type:"email",id:"email",name:"email",value:l.email,onChange:g,className:"form-control "+(h.email?"is-invalid":""),placeholder:"Enter your email"}),h.email&&(0,c.jsx)("div",{className:"error-message",children:h.email})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",name:"password",value:l.password,onChange:g,className:"form-control "+(h.password?"is-invalid":""),placeholder:"Enter your password"}),h.password&&(0,c.jsx)("div",{className:"error-message",children:h.password})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,c.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:l.confirmPassword,onChange:g,className:"form-control "+(h.confirmPassword?"is-invalid":""),placeholder:"Confirm your password"}),h.confirmPassword&&(0,c.jsx)("div",{className:"error-message",children:h.confirmPassword})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Signing up...":"Sign Up"})]})]})};var u=n(3689),m=n(6347);const d=function(){var r=(0,u.A)().isAuthenticated,e=(0,m.W6)();return a.useEffect(function(){r&&e.push("/")},[r,e]),r?null:(0,c.jsx)(t.A,{title:"Sign Up",description:"Create a new account",children:(0,c.jsx)("div",{className:"container margin-vert--lg",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col col--6 col--offset-3",children:[(0,c.jsx)(l,{onSuccess:function(){e.push("/")},onError:function(r){console.error("Signup error:",r)}}),(0,c.jsxs)("div",{className:"margin-top--md",children:["Already have an account? ",(0,c.jsx)("a",{href:"/login",children:"Sign in here"})]})]})})})})}}}]);