/*! For license information please see 380abe66.56e18dce.js.LICENSE.txt */
"use strict";(self.webpackChunkai_book_hackathon=self.webpackChunkai_book_hackathon||[]).push([[5216],{467:(r,e,n)=>{function t(r,e,n,t,o,a,i){try{var s=r[a](i),c=s.value}catch(r){return void n(r)}s.done?e(c):Promise.resolve(c).then(t,o)}function o(r){return function(){var e=this,n=arguments;return new Promise(function(o,a){var i=r.apply(e,n);function s(r){t(i,o,a,s,c,"next",r)}function c(r){t(i,o,a,s,c,"throw",r)}s(void 0)})}}n.d(e,{A:()=>o})},2444:(r,e,n)=>{function t(r,e,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}t=function(r,e,n,o){function i(e,n){t(r,e,function(r){return this._invoke(e,n,r)})}e?a?a(r,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):r[e]=n:(i("next",0),i("throw",1),i("return",2))},t(r,e,n,o)}function o(){var r,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function s(n,o,a,i){var s=o&&o.prototype instanceof u?o:u,l=Object.create(s.prototype);return t(l,"_invoke",function(n,t,o){var a,i,s,u=0,l=o||[],f=!1,p={p:0,n:0,v:r,a:d,f:d.bind(r,4),d:function(e,n){return a=e,i=0,s=r,p.n=n,c}};function d(n,t){for(i=n,s=t,e=0;!f&&u&&!o&&e<l.length;e++){var o,a=l[e],d=p.p,m=a[2];n>3?(o=m===t)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=r):a[0]<=d&&((o=n<2&&d<a[1])?(i=0,p.v=t,p.n=a[1]):d<m&&(o=n<3||a[0]>t||t>m)&&(a[4]=n,a[5]=t,p.n=m,i=0))}if(o||n>1)return c;throw f=!0,t}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,m),i=l,s=m;(e=i<2?r:s)||!f;){a||(i?i<3?(i>1&&(p.n=-1),d(i,s)):p.n=s:p.v=s);try{if(u=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=r}else if((e=(f=p.n<0)?s:n.call(t,p))!==c)break}catch(e){a=r,i=1,s=e}finally{u=1}}return{value:e,done:f}}}(n,a,i),!0),l}var c={};function u(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][a]?e(e([][a]())):(t(e={},a,function(){return this}),e),d=f.prototype=u.prototype=Object.create(p);function m(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,f):(r.__proto__=f,t(r,i,"GeneratorFunction")),r.prototype=Object.create(d),r}return l.prototype=f,t(d,"constructor",f),t(f,"constructor",l),l.displayName="GeneratorFunction",t(f,i,"GeneratorFunction"),t(d),t(d,i,"Generator"),t(d,a,function(){return this}),t(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:m}})()}n.d(e,{A:()=>o})},7940:(r,e,n)=>{n.d(e,{y:()=>l});var t,o,a,i,s=n(2444),c=n(467),u=n(1787),l={register:(i=(0,c.A)((0,s.A)().m(function r(e,n,t){var o,a;return(0,s.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,u.Hh.email({email:e,password:n,name:t});case 1:return o=r.v,r.a(2,o);case 2:throw r.p=2,a=r.v,console.error("Registration error:",a),a;case 3:return r.a(2)}},r,null,[[0,2]])})),function(r,e,n){return i.apply(this,arguments)}),login:(a=(0,c.A)((0,s.A)().m(function r(e,n){var t,o;return(0,s.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,u.Jv.email({email:e,password:n});case 1:return t=r.v,r.a(2,t);case 2:throw r.p=2,o=r.v,console.error("Login error:",o),o;case 3:return r.a(2)}},r,null,[[0,2]])})),function(r,e){return a.apply(this,arguments)}),logout:(o=(0,c.A)((0,s.A)().m(function r(){var e,n;return(0,s.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,u.CI)();case 1:return e=r.v,r.a(2,e);case 2:throw r.p=2,n=r.v,console.error("Logout error:",n),n;case 3:return r.a(2)}},r,null,[[0,2]])})),function(){return o.apply(this,arguments)}),getCurrentUser:(t=(0,c.A)((0,s.A)().m(function r(){return(0,s.A)().w(function(r){for(;;)if(0===r.n)return r.a(2)},r)})),function(){return t.apply(this,arguments)})}},9185:(r,e,n)=>{n.r(e),n.d(e,{default:()=>p});var t=n(6540),o=n(9211),a=n(2444),i=n(467),s=n(7940),c=n(4848);const u=function(r){var e=r.onSuccess,n=r.onError,o=(0,t.useState)({email:"",password:""}),u=o[0],l=o[1],f=(0,t.useState)(!1),p=f[0],d=f[1],m=(0,t.useState)({}),h=m[0],v=m[1],g=function(r){var e,n;(l(Object.assign({},u,((e={})[r.target.name]=r.target.value,e))),h[r.target.name])&&v(Object.assign({},h,((n={})[r.target.name]="",n)))},w=function(){var r={};return u.email.trim()?/\S+@\S+\.\S+/.test(u.email)||(r.email="Email is invalid"):r.email="Email is required",u.password||(r.password="Password is required"),v(r),0===Object.keys(r).length},y=function(){var r=(0,i.A)((0,a.A)().m(function r(t){var o,i,c;return(0,a.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:if(t.preventDefault(),w()){r.n=1;break}return r.a(2);case 1:return d(!0),v({}),r.p=2,r.n=3,s.y.login(u.email,u.password);case 3:null!=(o=r.v)&&o.error?v({general:o.error.message||"Invalid email or password"}):e&&e(),r.n=5;break;case 4:r.p=4,c=r.v,console.error("Login error:",c),i=c.message||"Invalid email or password",v({general:i}),n&&n(i);case 5:return r.p=5,d(!1),r.f(5);case 6:return r.a(2)}},r,null,[[2,4,5,6]])}));return function(e){return r.apply(this,arguments)}}();return(0,c.jsxs)("div",{className:"login-form",children:[(0,c.jsx)("h2",{children:"Sign In"}),h.general&&(0,c.jsx)("div",{className:"alert alert-error",children:h.general}),(0,c.jsxs)("form",{onSubmit:y,children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{type:"email",id:"email",name:"email",value:u.email,onChange:g,className:"form-control "+(h.email?"is-invalid":""),placeholder:"Enter your email"}),h.email&&(0,c.jsx)("div",{className:"error-message",children:h.email})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",name:"password",value:u.password,onChange:g,className:"form-control "+(h.password?"is-invalid":""),placeholder:"Enter your password"}),h.password&&(0,c.jsx)("div",{className:"error-message",children:h.password})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Signing in...":"Sign In"})]})]})};var l=n(3689),f=n(6347);const p=function(){var r=(0,l.A)().isAuthenticated,e=(0,f.W6)();return t.useEffect(function(){r&&e.push("/")},[r,e]),r?null:(0,c.jsx)(o.A,{title:"Sign In",description:"Sign in to your account",children:(0,c.jsx)("div",{className:"container margin-vert--lg",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col col--6 col--offset-3",children:[(0,c.jsx)(u,{onSuccess:function(){e.push("/")},onError:function(r){console.error("Login error:",r)}}),(0,c.jsxs)("div",{className:"margin-top--md",children:["Don't have an account? ",(0,c.jsx)("a",{href:"/signup",children:"Sign up here"})]})]})})})})}}}]);