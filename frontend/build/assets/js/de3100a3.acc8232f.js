"use strict";(self.webpackChunkai_book_hackathon=self.webpackChunkai_book_hackathon||[]).push([[5510],{4112:(e,i,n)=>{n.r(i),n.d(i,{default:()=>o});var s=n(2444),a=n(467),t=n(6540),r=n(9211),c=n(4848);const o=function(){var e=(0,t.useState)({user:null,isAuthenticated:!1,isLoading:!0}),i=e[0],o=e[1];(0,t.useEffect)(function(){if("undefined"!=typeof window){var e=function(){var e=(0,a.A)((0,s.A)().m(function e(){var i,a,t,r,c;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Promise.resolve().then(n.bind(n,3689));case 1:if(i=e.v,i.useAuth,!(a=localStorage.getItem("better_auth_token"))){e.n=6;break}return e.n=2,fetch("http://localhost:8000/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});case 2:if(!(t=e.v).ok){e.n=4;break}return e.n=3,t.json();case 3:r=e.v,o({user:r.user,isAuthenticated:!0,isLoading:!1}),e.n=5;break;case 4:o({user:null,isAuthenticated:!1,isLoading:!1});case 5:e.n=7;break;case 6:o({user:null,isAuthenticated:!1,isLoading:!1});case 7:e.n=9;break;case 8:e.p=8,c=e.v,console.error("Auth error:",c),o({user:null,isAuthenticated:!1,isLoading:!1});case 9:return e.a(2)}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();e()}},[]);var l=i.user,d=i.isAuthenticated;if(i.isLoading)return(0,c.jsx)(r.A,{title:"Dashboard",description:"User dashboard",children:(0,c.jsx)("div",{className:"container margin-vert--lg",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col col--8 col--offset-2",children:[(0,c.jsx)("h1",{children:"Loading Dashboard..."}),(0,c.jsx)("p",{children:"Please wait while we verify your authentication status."})]})})})});if(!d)return"undefined"!=typeof window&&(window.location.href="/login"),(0,c.jsx)(r.A,{title:"Redirecting...",description:"Redirecting to login",children:(0,c.jsx)("div",{className:"container margin-vert--lg",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col col--8 col--offset-2",children:[(0,c.jsx)("h1",{children:"Redirecting..."}),(0,c.jsx)("p",{children:"You need to be logged in to access this page. Redirecting to login..."})]})})})});var h=l?l.name||l.email:"User";return(0,c.jsx)(r.A,{title:"Dashboard",description:"User dashboard",children:(0,c.jsx)("div",{className:"container margin-vert--lg",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col col--8 col--offset-2",children:[(0,c.jsx)("h1",{children:"User Dashboard"}),(0,c.jsx)("div",{className:"card",children:(0,c.jsxs)("div",{className:"card__body",children:[(0,c.jsxs)("h3",{children:["Welcome, ",h,"!"]}),(0,c.jsx)("p",{children:"This is a protected page. Only authenticated users can see this content."}),(0,c.jsxs)("p",{children:["Your email: ",(null==l?void 0:l.email)||"Not available"]}),(0,c.jsxs)("p",{children:["Account created: ",null!=l&&l.createdAt?new Date(l.createdAt).toLocaleDateString():"N/A"]})]})})]})})})})}}}]);